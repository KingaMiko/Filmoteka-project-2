{"mappings":"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","sources":["src/scripts/language-lib.js","src/scripts/gallery-library.js"],"sourcesContent":["window.addEventListener('DOMContentLoaded', function () {\n  const allLang = ['en', 'pl'];\n  const html = document.querySelector('html');\n  const headerItem = document.querySelectorAll('.header__controls-item');\n\n  const langArr = {\n    headerTitle: {\n      en: 'Filmoteka',\n      pl: 'Filmoteka',\n    },\n    headerLink: {\n      en: 'HOME',\n      pl: 'START',\n    },\n    headerLibrary: {\n      en: 'MY LIBRARY',\n      pl: 'BIBLIOTEKA',\n    },\n    headerLibraryBtn: {\n      en: 'WATCHED',\n      pl: 'OBEJRZANE',\n    },\n    headerLibraryBtnque: {\n      en: 'QUEUE',\n      pl: 'DO OBEJRZENIA',\n    },\n    placaholder: {\n      en: 'Movie search',\n      pl: 'Wyszukaj film',\n    },\n    footeritem: {\n      en: '©  2023 | All Rights Reserved | ',\n      pl: '©  2023 | Wszelkie prawa zastrzezone | ',\n    },\n\n    filmvote: {\n      en: 'Vote / Votes',\n      pl: 'Głosów',\n    },\n    filmpop: {\n      en: 'Popularity',\n      pl: 'Popularność',\n    },\n    filmtitle: {\n      en: 'Original Title',\n      pl: 'Oryginalny tytuł',\n    },\n    filmg: {\n      en: 'Genre',\n      pl: 'Gatunek filmu',\n    },\n    filmabout: {\n      en: 'About',\n      pl: 'Opis',\n    },\n    butff: {\n      en: 'Add to watched',\n      pl: 'Dodano do obejrzanych',\n    },\n    butfc: {\n      en: 'Add to queue',\n      pl: 'Dodano do kolejki',\n    },\n    footer: {\n      en: 'Developed with',\n      pl: 'Zaprojektowano przez',\n    },\n    choose: {\n      en: 'Choose genre',\n      pl: 'Wybierz gatunek',\n    },\n    butff: {\n      en: 'ADD TO WATCH',\n      pl: 'DDODAJ DO OBEJRZANYCH',\n    },\n    butfc: {\n      en: 'ADD TO QUEUE',\n      pl: 'DODAJ DO KOLEJKI',\n    },\n  };\n  const langButtons = document.querySelectorAll('.translate');\n  langButtons.forEach(button => {\n    button.addEventListener('click', changeLanguageOnClick);\n  });\n  if (langButtons.length > 0) {\n    langButtons.forEach(button => {\n      button.addEventListener('click', changeLanguageOnClick);\n    });\n  }\n\n  function changeLanguageOnClick(event) {\n    const selectedLanguage = event.target.getAttribute('data-lang');\n    let lang = event.target.getAttribute('data-lang');\n    location.href = window.location.pathname + '#' + lang;\n    let currentLanguage = localStorage.getItem('language');\n\n    if (selectedLanguage !== currentLanguage) {\n      localStorage.setItem('language', selectedLanguage);\n      location.reload();\n    }\n  }\n\n  function changeLanguage() {\n    let hash = localStorage.getItem('language');\n    html.setAttribute('lang', hash);\n    document.querySelector('.header__controls-item').textContent = langArr['headerLink'][hash];\n    headerItem[1].textContent = langArr['headerLibrary'][hash];\n    document.querySelector('.footer__text').textContent = langArr['footeritem'][hash];\n    document.querySelector('.header-library #w').textContent = langArr['headerLibraryBtn'][hash];\n    document.querySelector('.header-library #q').textContent = langArr['headerLibraryBtnque'][hash];\n    document.querySelector('.dev').textContent = langArr['footer'][hash];\n  }\n\n  let valueLn = localStorage.getItem('language');\n  if (!allLang.includes(valueLn)) {\n    valueLn = 'en';\n  }\n  localStorage.setItem('language', valueLn);\n  changeLanguage();\n});\n","import { createGallery, createTrailerButton } from './gallery';\nimport { openModal } from './movie-modal';\nimport Pagination from 'tui-pagination';\n\nconst ITEMS_PER_PAGE = 10;\nconst gallery = document.querySelector('.gallery');\nconst watchedButton = document.querySelector('.header-library #w');\nconst queuedButton = document.querySelector('.header-library #q');\nconst paginationContainer = document.querySelector('#pagination-container');\n\nlet currentPage = 1;\nlet activeButton = '';\nfunction getPreferredLanguage() {\n  return localStorage.getItem('language') || 'en';\n}\n\nfunction createMovieCard(movie) {\n  const card = document.createElement('div');\n  card.classList.add('card');\n\n  const link = document.createElement('a');\n\n  const image = new Image();\n  image.classList.add('card__pic');\n  image.loading = 'lazy';\n  image.src = movie.poster_path\n    ? `https://image.tmdb.org/t/p/w500${movie.poster_path}?language=${getPreferredLanguage()}`\n    : 'https://upload.wikimedia.org/wikipedia/commons/6/65/No-Image-Placeholder.svg';\n\n  const info = document.createElement('div');\n  info.classList.add('card__info');\n\n  image.addEventListener('click', function () {\n    openModal(movie);\n  });\n\n  const title = document.createElement('h2');\n  title.textContent = movie.title;\n\n  const subtitle = document.createElement('h3');\n  const year = movie.release_date ? movie.release_date.substring(0, 4) : 'Unknown';\n  subtitle.textContent = `${year}`;\n\n  const trailerButton = createTrailerButton(movie.id);\n  link.appendChild(trailerButton);\n\n  info.appendChild(title);\n  info.appendChild(subtitle);\n\n  link.appendChild(image);\n  link.appendChild(info);\n\n  card.appendChild(link);\n\n  return card;\n}\n\nfunction renderMoviesPage(watchedMovies) {\n  const start = (currentPage - 1) * ITEMS_PER_PAGE;\n  const end = start + ITEMS_PER_PAGE;\n  const moviesPage = watchedMovies.slice(start, end);\n\n  gallery.innerHTML = '';\n\n  moviesPage.forEach(movie => {\n    const card = createMovieCard(movie);\n    gallery.appendChild(card);\n  });\n}\n\nfunction setActiveButton(button) {\n  if (activeButton) {\n    activeButton.classList.remove('header-library-buttons__button--active');\n  }\n\n  if (button) {\n    button.classList.add('header-library-buttons__button--active');\n    activeButton = button;\n  }\n}\n\nexport function showWatchedMovies() {\n  setActiveButton(watchedButton);\n  let watchedMovies = localStorage.getItem('watchedMovies');\n  if (watchedMovies) {\n    watchedMovies = JSON.parse(watchedMovies);\n  } else {\n    watchedMovies = [];\n  }\n\n  const totalItems = watchedMovies.length;\n  const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);\n\n  const pagination = new Pagination(paginationContainer, {\n    totalItems,\n    itemsPerPage: ITEMS_PER_PAGE,\n    visiblePages: 5,\n    page: currentPage,\n    centerAlign: true,\n  });\n\n  pagination.on('afterMove', e => {\n    currentPage = e.page;\n    renderMoviesPage(watchedMovies);\n  });\n\n  renderMoviesPage(watchedMovies);\n}\nexport function showQueuedMovies() {\n  setActiveButton(queuedButton);\n  let queuedMovies = localStorage.getItem('queuedMovies');\n  if (queuedMovies) {\n    queuedMovies = JSON.parse(queuedMovies);\n  } else {\n    queuedMovies = [];\n  }\n\n  // Inicjalizacja paginacji\n  const totalItems = queuedMovies.length;\n  const totalPages = Math.ceil(totalItems / ITEMS_PER_PAGE);\n\n  const pagination = new Pagination(paginationContainer, {\n    totalItems,\n    itemsPerPage: ITEMS_PER_PAGE,\n    visiblePages: 5,\n    page: currentPage,\n    centerAlign: true,\n  });\n\n  pagination.on('afterMove', e => {\n    currentPage = e.page;\n    renderMoviesPage(queuedMovies);\n  });\n\n  renderMoviesPage(queuedMovies);\n}\n\nwatchedButton.addEventListener('click', showWatchedMovies);\nqueuedButton.addEventListener('click', showQueuedMovies);\ndocument.addEventListener('DOMContentLoaded', showWatchedMovies);\n"],"names":["window","addEventListener","html","document","querySelector","headerItem","querySelectorAll","langArr","headerTitle","en","pl","headerLink","headerLibrary","headerLibraryBtn","headerLibraryBtnque","placaholder","footeritem","filmvote","filmpop","filmtitle","filmg","filmabout","butff","butfc","footer","choose","langButtons","changeLanguageOnClick","event","selectedLanguage","target","getAttribute","lang","location","href","pathname","localStorage","getItem","setItem","reload","forEach","button","length","valueLn","includes","hash","setAttribute","textContent","changeLanguage","$h0hiU","parcelRequire","$98b29b153661ceda$var$ITEMS_PER_PAGE","$98b29b153661ceda$var$gallery","$98b29b153661ceda$var$watchedButton","$98b29b153661ceda$var$queuedButton","$98b29b153661ceda$var$paginationContainer","$98b29b153661ceda$var$currentPage","$98b29b153661ceda$var$activeButton","$98b29b153661ceda$var$createMovieCard","movie","card","createElement","classList","add","link","image","Image","loading","src","poster_path","info","$iIogm","openModal","title","subtitle","year","release_date","substring","trailerButton","createTrailerButton","id","appendChild","$98b29b153661ceda$var$renderMoviesPage","watchedMovies","start","end","moviesPage","slice","innerHTML","$98b29b153661ceda$var$setActiveButton","remove","$98b29b153661ceda$export$8b57ef59d949d5d9","JSON","parse","totalItems","Math","ceil","$parcel$interopDefault","$afPuq","itemsPerPage","visiblePages","page","centerAlign","on","e","queuedMovies"],"version":3,"file":"library.ae176315.js.map"}